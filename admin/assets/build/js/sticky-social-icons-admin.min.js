!function(l){"use strict";var r=[],a={facebook:["#fff","#fff","#1e73be","#1e73be"],twitter:["#fff","#fff","#00bde2","#00bde2"],youtube:["#fff","#fff","#e51b1b","#e51b1b"],pinterest:["#fff","#fff","#c62929","#c62929"],envelope:["#fff","#fff","#ea8a35","#d17030"],whatsapp:["#fff","#fff","#8abc3a","#4cd140"],linkedin:["#fff","#fff","#63dfe8","#63dfe8"],instagram:["#fff","#fff","#e878e8","#e878e8"],skype:["#fff","#fff","#39b9ef","#39b9ef"]};l(document).ready(function(){function o(o){var e;o.length<1?l("#available-icons-container").html("<p><strong>0 result found</strong></p>"):(e="",o.forEach(function(o){e+='<a data-icon="'+o+'" class="icon-wrapper" ><div class="icon-holder">',e+='<i class="'+o.replace("_"," ")+'"></i>',e+="</div></a>"}),l("#available-icons-container").html(e),t())}function e(o,e){var c=o.toLowerCase(),n=[];return e.filter(function(o){return 43<n.length?n:void(0<=o.toLowerCase().indexOf(c)&&n.push(o))}),n}function c(c,n){var i=0;return function(){var o=this,e=arguments;clearTimeout(i),i=setTimeout(function(){c.apply(o,e)},n||0)}}function n(c,n,o){var i;void 0===n&&(i=0,Object.keys(a).forEach(function(o){var e;c.includes(o)&&(n={url:"",icon:c,new_tab:1,icon_color:(e=a[o])[0],icon_color_on_hover:e[1],bck_color:e[2],bck_color_on_hover:e[3]},i=1)}),i||(n={url:"",icon:c,new_tab:1,icon_color:"#000",icon_color_on_hover:"#fff",bck_color:"#fff",bck_color_on_hover:"#000"}));var e=1==n.new_tab?"checked":"";l("#selected-icons-section").show();var t='<div class="icon-row ui-state-default" data-icon="'+s(c)+'">';t+='<div class="drag" title="'+sanil_ssi_objects.text_drag_msg+'">'+sanil_ssi_objects.text_drag+"</div>",t+='<div class="icon-holder"><i class="'+c+'"></i></div>',t+='<input type="text" name="url_input" class="url-input" placeholder="'+sanil_ssi_objects.text_url_to_open+'" value="'+n.url+'">',t+='<input type="hidden" name="icon" class="selected-icon" value="'+c+'" >',t+='<button type="button" class="more-options-btn">'+sanil_ssi_objects.text_more_options+"</button>",t+='<button type="button" class="remove-item-btn">'+sanil_ssi_objects.text_remove+"</button>",t+='<div class="more-options-container" style="display: none;">',t+='<h4 class="title">'+sanil_ssi_objects.text_more_options+'<button type="button" class="close-moc">'+sanil_ssi_objects.text_close+"</button></h4>",t+='<div class="form-group"><label>'+sanil_ssi_objects.text_open_in_new_tab+'</label><div class="moc-input-wrapper"><input type="checkbox" value="1" name="open_in_new_tab" '+e+"></div></div>",t+='<div class="form-group"><label>'+sanil_ssi_objects.text_colors+"</label>",t+='<div class="moc-input-wrapper has-color-picker">',t+='<div class="colorpicker-group"><p>'+sanil_ssi_objects.text_icon_color+'</p><input type="text" value="'+n.icon_color+'" name="icon_color"  class="color-picker icon-color" data-alpha="true"></div>',t+='<div class="colorpicker-group"><p>'+sanil_ssi_objects.text_icon_color_on_hover+'</p><input type="text" value="'+n.icon_color_on_hover+'" name="icon_color_on_hover"  class="color-picker icon-color-hover" data-alpha="true"></div>',t+='<div class="colorpicker-group"><p>'+sanil_ssi_objects.text_bck_color+'</p><input type="text" value="'+n.bck_color+'" name="bck_color"  class="color-picker bck-color" data-alpha="true"></div>',t+='<div class="colorpicker-group"><p>'+sanil_ssi_objects.text_bck_color_on_hover+'</p><input type="text" value="'+n.bck_color_on_hover+'" name="bck_color_on_hover"  class="color-picker bck-color-hover" data-alpha="true"></div>',t+="</div></div></div></div>",l("#selected-icons-container").append(t),0!=o&&l("html, body").animate({scrollTop:l(document).height()},500),setTimeout(function(){l(".icon-row .color-picker").wpColorPicker()},500)}function i(o,e,c,n,i){var t="";t+='.icon-row[data-icon="'+o+'"] .icon-holder{ ',t+="color: "+e+" !important; ",t+="background: "+n+" !important; ",t+="}",t+='.icon-row[data-icon="'+o+'"] .icon-holder:hover{ ',t+="color: "+c+" !important; ",t+="background: "+i+" !important; ",t+="}",l("#"+o+"-styles").length?l("#"+o+"-styles").html(t):l("head").append('<style id="'+o+'-styles">'+t+"</style>")}function s(o){return o.replace(" ","_")}function t(){l("#available-icons-container a").each(function(){r.includes(l(this).data("icon"))&&l(this).addClass("selected")})}!function(){o(e("",ssi_icons));var c=sanil_ssi_objects.selected_icons_from_db;c.length&&(c=JSON.parse(c));Object.keys(c).forEach(function(o){var e=JSON.parse(c[o]);n(e.icon,e,!1),r.includes(s(e.icon))||r.push(s(e.icon)),i(s(e.icon),e.icon_color,e.icon_color_on_hover,e.bck_color,e.bck_color_on_hover)}),t()}(),l("#icon-search").keyup(c(function(){o(e(l.trim(l(this).val()),ssi_icons))},500)),l("body").on("click",".icon-wrapper",function(){var o=l(this).data("icon");r.includes(o)||(r.push(o),n(o.replace("_"," ")),l(this).addClass("selected"))}),l("body").on("click","button.more-options-btn",function(){var o=l(this).siblings(".more-options-container");o.is(":visible")?o.slideUp():o.slideDown()}),l("body").on("click","button.close-moc",function(){l(this).parents(".more-options-container").slideUp()}),l("body").on("click",".remove-item-btn",function(){var o=l(this).parents(".icon-row"),e=o.data("icon");o.slideUp("fast",function(){o.remove()});for(var c=0;c<r.length;c++)r[c]==e&&r.splice(c,1);l('.icon-wrapper.selected[data-icon="'+e+'"]').removeClass("selected")}),l("#sanil-ssi-form").on("submit",function(o){o.preventDefault();var a={};l("#selected-icons-container .icon-row").each(function(o){var e=l(".url-input",this).val(),c=l(".selected-icon",this).val(),n=l('input[name="open_in_new_tab"]',this).val(),i=l('input[name="icon_color"]',this).val(),t=l('input[name="icon_color_on_hover"]',this).val(),s=l('input[name="bck_color"]',this).val(),r=l('input[name="bck_color_on_hover"]',this).val();a[o]=JSON.stringify({url:e,icon:c,new_tab:n,icon_color:i,icon_color_on_hover:t,bck_color:s,bck_color_on_hover:r})}),l("#sanil_ssi_db_selected_icons").attr("value",JSON.stringify(a)),l("#sanil-ssi-form")[0].submit()}),l("body").on("change",".color-picker",c(function(){var o=l(this).parents(".icon-row").data("icon");i(o,l('.icon-row[data-icon="'+o+'"] .color-picker.icon-color').val(),l('.icon-row[data-icon="'+o+'"] .color-picker.icon-color-hover').val(),l('.icon-row[data-icon="'+o+'"] .color-picker.bck-color').val(),l('.icon-row[data-icon="'+o+'"] .color-picker.bck-color-hover').val())},200)),l("#selected-icons-container").sortable().disableSelection()})}(jQuery);
!function(r){"use strict";var s=["fab_fa-facebook","fab_fa-twitter","fab_fa-youtube","fab_fa-tripadvisor","fab_fa-linkedin","fab_fa-instagram","fab_fa-whatsapp","fas_fa-envelope"],a=[];r(document).ready(function(){function t(o){var t;console.log(o),o.length<1?r("#available-icons-container").html("<p><strong>0 result found</strong></p>"):(t="",o.forEach(function(o){t+='<a data-icon="'+o+'" class="icon-wrapper" ><div class="icon-holder">',t+='<i class="'+o.replace("_"," ")+'"></i>',t+="</div></a>"}),r("#available-icons-container").html(t),c())}function o(n,e){var i=0;return function(){var o=this,t=arguments;clearTimeout(i),i=setTimeout(function(){n.apply(o,t)},e||0)}}function e(o,t){void 0===t&&(t={url:"",icon:o,new_tab:1,icon_color:"#000",icon_color_on_hover:"#fff",bck_color:"#fff",bck_color_on_hover:"#000"});var n=1==t.new_tab?"checked":"";r("#selected-icons-section").show();var e='<div class="icon-row" data-icon="'+i(o)+'">';e+='<button type="button" class="drag" title="'+sanil_ssi_objects.text_drag_msg+'">'+sanil_ssi_objects.text_drag+"</button>",e+='<div class="icon-holder"><i class="'+o+'"></i></div>',e+='<input type="text" name="url_input" class="url-input" placeholder="'+sanil_ssi_objects.text_url_to_open+'" value="'+t.url+'">',e+='<input type="hidden" name="icon" class="selected-icon" value="'+o+'" >',e+='<button type="button" class="more-options-btn">'+sanil_ssi_objects.text_more_options+"</button>",e+='<button type="button" class="remove-item-btn">'+sanil_ssi_objects.text_remove+"</button>",e+='<div class="more-options-container" style="display: none;">',e+='<h4 class="title">'+sanil_ssi_objects.text_more_options+'<button type="button" class="close-moc">'+sanil_ssi_objects.text_close+"</button></h4>",e+='<div class="form-group"><label>'+sanil_ssi_objects.text_open_in_new_tab+'</label><div class="moc-input-wrapper"><input type="checkbox" value="1" name="open_in_new_tab" '+n+"></div></div>",e+='<div class="form-group"><label>'+sanil_ssi_objects.text_colors+"</label>",e+='<div class="moc-input-wrapper has-color-picker">',e+='<div class="colorpicker-group"><p>'+sanil_ssi_objects.text_icon_color+'</p><input type="text" value="'+t.icon_color+'" name="icon_color"  class="color-picker" data-alpha="true"></div>',e+='<div class="colorpicker-group"><p>'+sanil_ssi_objects.text_icon_color_on_hover+'</p><input type="text" value="'+t.icon_color_on_hover+'" name="icon_color_on_hover"  class="color-picker" data-alpha="true"></div>',e+='<div class="colorpicker-group"><p>'+sanil_ssi_objects.text_bck_color+'</p><input type="text" value="'+t.bck_color+'" name="bck_color"  class="color-picker" data-alpha="true"></div>',e+='<div class="colorpicker-group"><p>'+sanil_ssi_objects.text_bck_color_on_hover+'</p><input type="text" value="'+t.bck_color_on_hover+'" name="bck_color_on_hover"  class="color-picker" data-alpha="true"></div>',e+="</div></div></div></div>",r("#selected-icons-container").append(e),r("html, body").animate({scrollTop:r(document).height()},500),setTimeout(function(){r(".icon-row .color-picker").wpColorPicker()},500)}function i(o){return o.replace(" ","_")}function c(){r("#available-icons-container a").each(function(){a.includes(r(this).data("icon"))&&r(this).addClass("selected")})}!function(){t(s);var n=sanil_ssi_objects.selected_icons_from_db;n.length&&(n=JSON.parse(n));Object.keys(n).forEach(function(o){var t=JSON.parse(n[o]);e(t.icon,t),a.includes(i(t.icon))||a.push(i(t.icon))}),c()}(),r("#icon-search").keyup(o(function(){var o=r.trim(r(this).val());o.length<1?t(s):t(function(o,t){var n=o.toLowerCase(),e=[];n.length<1&&return_false;return t.filter(function(o){return 43<e.length?e:void(0<=o.toLowerCase().indexOf(n)&&e.push(o))}),e}(o,ssi_icons))},500)),r("body").on("click",".icon-wrapper",function(){var o=r(this).data("icon");a.includes(o)||(a.push(o),e(o.replace("_"," ")),r(this).addClass("selected"))}),r("body").on("click","button.more-options-btn",function(){var o=r(this).siblings(".more-options-container");o.is(":visible")?o.slideUp():o.slideDown()}),r("body").on("click","button.close-moc",function(){r(this).parents(".more-options-container").slideUp()}),r("body").on("click",".remove-item-btn",function(){var o=r(this).parents(".icon-row");o.slideUp("fast",function(){o.remove()})}),r("#sanil-ssi-form").on("submit",function(o){o.preventDefault();var l={};r("#selected-icons-container .icon-row").each(function(o){var t=r(".url-input",this).val(),n=r(".selected-icon",this).val(),e=r('input[name="open_in_new_tab"]',this).val(),i=r('input[name="icon_color"]',this).val(),c=r('input[name="icon_color_on_hover"]',this).val(),s=r('input[name="bck_color"]',this).val(),a=r('input[name="bck_color_on_hover"]',this).val();l[o]=JSON.stringify({url:t,icon:n,new_tab:e,icon_color:i,icon_color_on_hover:c,bck_color:s,bck_color_on_hover:a})}),r("#sanil_ssi_db_selected_icons").attr("value",JSON.stringify(l)),r("#sanil-ssi-form")[0].submit()}),r("body").on("change",".color-picker",o(function(){var o=r(this).parents(".icon-row").data("icon");console.log(o)},500))})}(jQuery);